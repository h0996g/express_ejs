<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Product List</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #333;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #007bff;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        a.button,
        .logout {
            padding: 8px 12px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            color: white;
            margin-right: 5px;
        }

        .details-button {
            background-color: #28a745;
        }

        .add-button {
            background-color: #28a745;
        }

        .edit-button {
            background-color: #6c757d;
        }

        .delete-button {
            background-color: #dc3545;
        }

        .logout {
            background-color: #dc3545;
        }

        a.button:hover,
        .logout:hover {
            opacity: 0.85;
        }

        .table-actions {
            text-align: center;
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .admin-actions {
            order: -1;
        }
    </style>
</head>

<body>
    <div class="header-bar">
        <% if (isAdmin) { %>
            <div class="admin-actions">
                <a href="/products/add" class="button add-button">Add New Product</a>
            </div>
            <% } %>
                <h1>Product List</h1>
                <a href="/users/logout" class="logout">Logout</a>
    </div>

    <table>
        <thead>
            <tr>
                <th>Product Name</th>
                <th class="table-actions">Actions</th>
            </tr>
        </thead>
        <tbody>
            <% products.forEach(product=> { %>
                <tr>
                    <td>
                        <%= product.name %>
                    </td>
                    <td class="table-actions">
                        <a href="/products/details/<%= product._id %>" class="button details-button">Details</a>
                        <% if (isAdmin) { %>
                            <a href="/products/edit/<%= product._id %>" class="button edit-button">Edit</a>
                            <a href="/products/delete/<%= product._id %>" class="button delete-button"
                                onclick="return confirm('Are you sure?');">Delete</a>
                            <% } %>
                    </td>
                </tr>
                <% }) %>
        </tbody>
    </table>
</body>

</html>